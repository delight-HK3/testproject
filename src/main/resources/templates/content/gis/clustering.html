<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default_layout}">

    <head>
        <th:block th:replace="content/common/headScript :: headerScriptFragment"></th:block>

        <!-- kakao Map Script -->
        <script type="text/javascript" th:src="@{${kakaoMap}}"></script>
        <script type="text/javascript" th:src="@{/js/kakaoClustering.js}"></script>
        <!-- kakao Map Script -->

        <!-- naver Map Script -->
        <script type="text/javascript" th:src="@{${naverMap}}"></script>
        <script type="text/javascript" th:src="@{/js/naverClustering.js}"></script>
        <script type="text/javascript" th:src="@{/js/MarkerClustering.js}"></script> <!-- 네이버지도 클러스터 설정 js 파일 -->
        <!-- naver Map Script -->

        <!-- google Map Script -->

        <!-- google Map Script -->

        <script type="text/javascript">
            function check(){

                var data = {
                    searchSchoolSe: $("#searchSchoolSe").val()
                    , searchNumOfRows: $("#searchNumOfRows").val()
                    , searchBnhhSe: $("#searchBnhhSe").val()
                }

                $.ajax({
                    url: "./clusteringGps"
                    , type: 'GET'
                    , data: data
                    , dataType: 'json'
                    , contentType : 'application/charset=utf-8'
                    , success: function (data) {

                        var myItem = data.response.body.items.item;

                        kakaoMap(myItem);
                        naverMap(myItem);
                    }
                });
            }
            
        </script>
        
    </head>
    <body>
        <div class="container">
            <th:block th:replace="content/common/header :: headerFragment"></th:block>
            
            <!-- 검색 form -->
            <div class="row">

                <!-- 학교구분 조건 -->
                <div class="col">
                    <label for="searchSchoolSe" class="form-label">학교구분</label>
                    <select class="form-select" id="searchSchoolSe">
                        <option value="초등학교" selected>초등학교</option>
                        <option value="중학교">중학교</option>
                        <option value="고등학교">고등학교</option>
                    </select>
                </div>
                <!-- 학교구분 조건 -->
                
                <!-- 한 페이지 결과 수 조건 -->
                <div class="col">
                    <label for="searchNumOfRows" class="form-label">출력데이터양</label>
                    <input type="text" class="form-control" id="searchNumOfRows" value="100"/>
                </div>
                <!-- 한 페이지 결과 수 조건 -->

                <!-- 본교분교 구분 조건 -->
                <div class="col">
                    <label for="searchBnhhSe" class="form-label">본교분교 구분</label>
                    <select class="form-select" id="searchBnhhSe">
                        <option value="본교" selected>본교</option>
                        <option value="분교">분교</option>
                    </select>
                </div>
                <!-- 본교분교 구분 조건 -->

            </div>

            <br>

            <div class="row">
                <div class="col">
                    <input type="button" class="btn btn-primary" onclick="check()" value="조회" />
                </div>
            </div>
            <!-- 검색 form -->

            <br>

            <div class="row">
                <div class="col">
                     <!-- kakao Map -->
                    <h5>kakao 클러스터 Map</h5>
                    <div id="kakaoMap" style="width:100%;height:800px;"></div>
                    <!-- // kakao Map -->
                </div>

                <div class="col">
                    <!-- naver Map -->
                    <h5>naver 클러스터 Map</h5>
                    <div id="naverMap" style="width:100%;height:800px;"></div>
                    <!-- // naver Map -->
               </div>
            </div>

            <th:block th:replace="content/common/footer :: footerFragment"></th:block>
        </div>
    </body>
</html>